<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Ganglia Monitoring System for Erlang</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<h1>Ganglia Monitoring System for Erlang</h1>
<p><b>Version:</b> 0.1</p>
<p><b>Authors:</b> Fernando Benavides (<a href="mailto:fernando.benavides@inakanetworks.com"><tt>fernando.benavides@inakanetworks.com</tt></a>).</p>
<p><b>References</b><ul><li><a href="http://github.com/elbrujohalcon/eganglia">Fork me on Github</a></li><li><a href="http://ganglia.sourceforge.net/">Ganglia Monitoring System</a></li><li><a href="http://linux.die.net/man/1/gmetric">gmetric</a></li><li><a href="http://sourceforge.net/apps/trac/ganglia/wiki/ganglia_gmond_c_modules">Ganglia's C interface</a></li></ul></p>
<p><b><font color="red">To do</font></b><ul><li><font color="red">For this first version we're using gmetric for everything. Next versions should include a port for Ganglia's C interface</font></li><li><font color="red">Add metric_group:add_sup_metric to behave like <a href="gen_event.html#add_sup_handler-3"><code>gen_event:add_sup_handler/3</code></a></font></li></ul></p>

<h3><a name="Overview">Overview</a></h3>
<b>eGanglia</b> lets users connect with the Ganglia Monitoring System using gmetric
<h3><a name="Usage">Usage</a></h3>
Use <a href="gmetric.html"><code>gmetric</code></a><code>:announce/X</code> functions to interact directly with gmetric.<br>
Implement <a href="gen_metric.html"><code>gen_metric</code></a> behavior to define new custom metrics. Use <a href="metric_group.html"><code>metric_group</code></a> to announce them.<br>
Or just start the application using <a href="eganglia.html#start-0"><code>eganglia:start/0</code></a> to start the metric groups defined in <a href="#configuration">the application configuration</a>
<h3><a name="Configuration">Configuration</a></h3>
<a name="configuration"></a>
<b>elog</b> uses Erlang config files to set its environmental variables. The allowed options are:
<dl>
  <dt><code>groups :: [metric_group()]</code></dt>
    <dd>Default metric groups to load on application start.
        Each <code>metric_group</code> is represented by a tuple that may have one of the following formats:
      <ul>
        <li><code>{Name, CollectEvery, TimeThreshold, Metrics}</code></li>
        <li><code>{CollectEvery, TimeThreshold, Metrics}</code></li>
        <li><code>{CollectEvery, Metrics}</code></li>
      </ul> 
      <dl>
        <dt><code>Name :: {local|global, atom()}</code></dt>
          <dd>The metric group process will be registered with this name</dd>
        <dt><code>CollectEvery ::  once | pos_integer()</code></dt>
          <dd>Metrics will be collected either <i>once</i> or every <i>CollectEvery</i> seconds</dd>
        <dt><code>TimeThreshold :: pos_integer()</code></dt>
          <dd>If no <i>ValueThreshold</i> is triggered within <i>TimeThreshold</i> seconds, the entire metric group is sent.
              The default value for this field is 3600</dd>
        <dt><code>Metrics :: [metric()]</code></dt>
          <dd>List of metrics to include in the group.
              Each <code>metric</code> is represented by a tuple that may have one of the following formats:
            <ul>
              <li><code>{Module, InitArgs}</code></li>
              <li><code>{Name, Module, InitArgs}</code></li>
              <li><code>{Name, Module, InitArgs}</code></li>
              <li><code>{Name, Module, InitArgs, Options}</code></li>
              <li><code>{Name, Module, InitArgs, Options, Threshold}</code></li>
            </ul>
            The params behave exactly as in <a href="metric_group.html#add_metric-6"><code>metric_group:add_metric/6</code></a>
        </dd>
      </dl>
      To fully understand each parameter, you can check the original <a href="http://sourceforge.net/apps/trac/ganglia/wiki/Gmond%203.1.x%20General%20Configuration#collection_group">Ganglia Configuration docs</a>.
    </dd>
</dl>
<hr>
<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Apr 19 2011, 11:15:28.</i></p>
</body>
</html>
